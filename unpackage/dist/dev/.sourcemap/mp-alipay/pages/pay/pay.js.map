{"version":3,"sources":["webpack:////Users/bing/lhbWordMiniProgram_uni/main.js","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue?de88","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue?5e59","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue?7c05","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue?ddeb","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue?c73d","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue?f7eb"],"names":["createPage","Page","app","getApp","globalData","netUtils","require","displayUtils","data","nvabarData","showCapsule","title","netUrl","payDetail","components","navBar","props","onLoad","options","setData","url","getPayDetailFromServer","methods","that","getRequest","netData","console","log","e","clickPay","event","collectFormId","detail","formId","payment","sdk","length","statusCode","wx","requestPayment","timeStamp","nonceStr","package","signType","paySign","success","res","goPayResult","fail","showsToast","confirm_url","order_id","redirectTo","finish","navigateBack","delta"],"mappings":"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","file":"pages/pay/pay.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/pay/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=18c7c082&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/bing/lhbWordMiniProgram_uni/pages/pay/pay.vue\"\nexport default component.exports","export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=18c7c082&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/** 订单界面 */\nconst app = getApp().globalData;\nconst netUtils = require(\"../../utils/util.js\");\nconst displayUtils = require(\"../../utils/displayUtils.js\");\nimport navBar from \"../../component/nav-bar/nav-bar\";\n\nexport default {\n  data() {\n    return {\n      nvabarData: {\n        showCapsule: 1,\n        // 是否显示左上角胶囊按钮 1 显示 0 不显示\n        title: '支付订单'\n      },\n      netUrl: null,\n      payDetail: null\n    };\n  },\n\n  components: {\n    navBar\n  },\n  props: {},\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n    this.setData({\n      netUrl: options.url\n    });\n    this.getPayDetailFromServer(this.netUrl); // 网络请求\n  },\n  methods: {\n    /**\n     * 获取订单详情数据\n     */\n    getPayDetailFromServer: function (netUrl) {\n      var that = this;\n      netUtils.getRequest(netUrl, null, function (netData) {\n        var payDetail = netData.data;\n        console.log(payDetail);\n\n        if (\"9999\" == payDetail.e) {\n          that.setData({\n            payDetail: netData.data\n          });\n        }\n      });\n    },\n\n    /**\n     * 点击确认支付\n     */\n    clickPay: function (event) {\n      // 网络支付\n      getApp().globalData.collectFormId(event.detail.formId); // 收集表单标识\n\n      var that = this;\n\n      if (this.payDetail && this.payDetail.payment && this.payDetail.payment.sdk && this.payDetail.payment.sdk.length > 0) {\n        // 微信支付\n        netUtils.getRequest(this.payDetail.payment.sdk[0].url, null, function (netData) {\n          console.log(netData);\n\n          if (200 == netData.statusCode) {\n            wx.requestPayment({\n              timeStamp: netData.data.timeStamp,\n              nonceStr: netData.data.nonceStr,\n              package: netData.data.package,\n              signType: netData.data.signType,\n              paySign: netData.data.paySign,\n              success: function (res) {\n                // 支付成功\n                that.goPayResult(); // 支付完成-重定向完成的界面\n              },\n              fail: function (res) {\n                // 支付失败\n                console.log(res);\n                displayUtils.showsToast(\"支付失败\");\n              }\n            });\n          }\n        });\n      } else if (this.payDetail.payment.confirm_url) {\n        netUtils.getRequest(this.payDetail.payment.confirm_url, null, function (netData) {\n          console.log(netData);\n          that.goPayResult(); // 支付完成-重定向完成的界面\n        });\n      }\n    },\n\n    /**\n     * 跳转结果界面\n     */\n    goPayResult: function () {\n      if (this.payDetail && this.payDetail.payment && this.payDetail.payment.order_id) {\n        wx.redirectTo({\n          url: '../deal/deal?orderId=' + this.payDetail.payment.order_id\n        });\n      }\n    },\n\n    /**\n     * 关闭当前界面\n     */\n    finish: function () {\n      wx.navigateBack({\n        delta: 1\n      });\n    }\n  }\n};\n","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589773448200\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}