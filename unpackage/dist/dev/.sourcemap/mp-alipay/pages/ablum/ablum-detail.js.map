{"version":3,"sources":["webpack:////Users/bing/lhbWordMiniProgram_uni/main.js","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue?64a7","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue?b836","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue?f07a","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue?0ffc","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue?93e8","webpack:////Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue?372a"],"names":["createPage","Page","app","getApp","globalData","util","require","displayUtils","unitUrl","data","albums","isListening","indicatorDots","swiperIndex","upSwiperIndex","currentIdx","lockText","listening","isPlaying","isPause","audioTitle","playerHidden","playerCloseHidden","timeTotal","timeStep","hasAuth","tryListen","title","hasIntro","isHuawei","authMsg","custom_cfg","content","img","path","nvabarData","showCapsule","showGoHome","share_idx","bookid","reqUrl","hasInfoUrl","navBarHidden","isFisrtShow","components","customModal","navBar","props","onLoad","options","setData","console","log","$data","id","url","decodeURIComponent","cus_title","cus_content","g_is_huawei","g_audio_bookid","g_audio_reqUrl","that","getRequest","res","e","wx","showToast","icon","map","reg","audio","JSON","parse","secret","media","media_iv","auth","custom_cfg_reg","mini_intro","isshow","g_test_type","g_custom_msg","g_auth_msg","g_audio_auth","status","g_try_time","try_time","g_audio_plen","length","g_share_img","mini_share","g_req_data","g_audio_obj","getBackgroundAudioManager","onReady","$refs","onShow","reqData","setDuratoin","g_has_index_toggle","g_audio_playing","g_audio_tryListen","g_audio_pause","g_audio_timeStep","g_audio_ablum_id","g_audio_ablum_temid","g_audio_pid","g_audio_player","parseInt","g_audio_title","setTimeout","audioManagerLister","isCurrentEvnet","upTryTime","hideLoading","onHide","onUnload","onShareAppMessage","imageUrl","encodeURIComponent","methods","Promise","resolve","reject","message","handleChange","detail","current","goIntro","evnet","navigateTo","audioPlay","event","pid","currentTarget","dataset","g_audio_ended","pause","play","stop","g_audio_idx","src","audioPlayer","goContent","preAudio","sub_len","showModal","success","confirm","goCustom","nextAudio","closePlayer","aliGetAuthCode","scopeCode","my","getAuthCode","scopes","fail","err","getUserByAuthCode","authCode","getTradeNo","uid","total_amount","out_trade_no","Date","getTime","scene","auth_code","subject","buyer_id","cashPaymentTrade","tradeNo","tradePay","tradeNO","result","resultCode","memo","type","duration","system","getSystemInfoSync","g_app","aliPay","order_url","indexOf","payAction","show","saveListenRecord","_reg","idx","time","g_audio_seeker","book_id","cover","g_audio_cover_square","tmp_id","_duration","max","duratoin","formLoadMTime","g_audio_duration","g_audio_max","onError","alert","stringify","onCanplay","onWaiting","onPlay","coverImgUrl","onPause","onEnded","onStop","onTimeUpdate","seeker","currentTime","num","formLoadTime","navigatorFail","invitShareEventFun"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,0G;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACa;;;AAGxE;AAC0M;AAC1M,gBAAgB,iNAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA4yB,CAAgB,0yBAAG,EAAC,C;;;;;;;;;;;;mgECAh0B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAMC,GAAG,GAAGC,MAAM,GAAGC,UAArB;AACA,IAAIC,IAAI,GAAGC,mBAAO,CAAC,0BAAD,CAAlB;AACA,IAAMC,YAAY,GAAGD,mBAA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","file":"pages/ablum/ablum-detail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/ablum/ablum-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ablum-detail.vue?vue&type=template&id=3cd977d9&\"\nvar renderjs\nimport script from \"./ablum-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./ablum-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ablum-detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/bing/lhbWordMiniProgram_uni/pages/ablum/ablum-detail.vue\"\nexport default component.exports","export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ablum-detail.vue?vue&type=template&id=3cd977d9&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ablum-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ablum-detail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// const log = console.log().bind(console,'[ablum-detail]');\nconst app = getApp().globalData;\nvar util = require(\"../../utils/util\");\nconst displayUtils = require(\"../../utils/displayUtils.js\");\nvar unitUrl = \"https://v.xueweigui.com/ApiWordCourse/unitList?book_id=\"; // var unitUrl = \"https://v.xueweigui.com/ApiWordCourse/unitList?book_id=\";\nimport customModal from \"../../component/easyModal/custom-modal/custom-modal\";\nimport navBar from \"../../component/nav-bar/nav-bar\";\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\talbums: [],\n\t\t\tisListening: false,\n\t\t\t//是否已监听\n\t\t\tindicatorDots: false,\n\t\t\tswiperIndex: 0,\n\t\t\tupSwiperIndex: 1,\n\t\t\tcurrentIdx: 0,\n\t\t\tlockText: \"\",\n\t\t\tlistening: false,\n\t\t\tisPlaying: false,\n\t\t\tisPause: true,\n\t\t\taudioTitle: '',\n\t\t\tplayerHidden: true,\n\t\t\tplayerCloseHidden: true,\n\t\t\ttimeTotal: '/00:00',\n\t\t\ttimeStep: '00:00',\n\t\t\thasAuth: false,\n\t\t\t//是否有权限收听\n\t\t\ttryListen: false,\n\t\t\t//试听是否结束\n\t\t\ttitle: '',\n\t\t\thasIntro: false,\n\t\t\t//是否展示介绍哦\n\t\t\tisHuawei: false,\n\t\t\tauthMsg: {},\n\t\t\t//权限信息\n\t\t\tcustom_cfg: {\n\t\t\t\tcontent: '点我解锁听课权限\\n(• ̀ω•́ )✧',\n\t\t\t\timg: 'https://uimg.gximg.cn/v/res/201903/14-11/img_banner.jpg',\n\t\t\t\tpath: 'pages/ablum/ablum-detail?scene=custom_order&product_type=50&product_id=211'\n\t\t\t},\n\t\t\tnvabarData: {\n\t\t\t\tshowCapsule: 1,\n\t\t\t\tshowGoHome: true,\n\t\t\t\t// 是否显示左上角胶囊按钮 1 显示 0 不显示\n\t\t\t\ttitle: '刘洪波讲单词'\n\t\t\t},\n\t\t\tshare_idx: \"\",\n\t\t\tbookid: \"\",\n\t\t\treqUrl: \"\",\n\t\t\thasInfoUrl: \"\",\n\t\t\tnavBarHidden: true, //自定义菜单是否隐藏\n\t\t\tisFisrtShow: false //是否首次载入\n\t\t};\n\t},\n\n\tcomponents: {\n\t\tcustomModal,\n\t\tnavBar\n\t},\n\tprops: {},\n\n\t/**\n\t * 生命周期函数--监听页面加载\n\t */\n\tonLoad: function(options) {\n\t\t// wx.showLoading({\n\t\t//   title: '加载中...'\n\t\t// });\n\t\tlet share_idx = options.share_idx || 0; //分享的音频下标-默认第一个\n\n\t\tthis.setData({\n\t\t\tshare_idx: share_idx\n\t\t});\n\t\tconsole.log('ablum-detail-onload', options, this.$data.share_idx);\n\t\tlet id = options.id;\n\t\tvar url = decodeURIComponent(options.url);\n\n\t\tif (url == 'undefined') {\n\t\t\turl = unitUrl + id;\n\t\t}\n\n\t\tlet title = '';\n\t\tvar path = '';\n\t\tvar cus_title = '';\n\t\tvar cus_content = '';\n\t\tvar img = '';\n\t\tthis.setData({\n\t\t\ttitle: title,\n\t\t\tbookid: id,\n\t\t\treqUrl: url,\n\t\t\tisHuawei: getApp().globalData.g_is_huawei\n\t\t});\n\t\tgetApp().globalData.g_audio_bookid = id;\n\t\tgetApp().globalData.g_audio_reqUrl = url;\n\t\tvar that = this;\n\t\tutil.getRequest(url, {}, function(res) {\n\t\t\tif (res.data.e != '9999') {\n\t\t\t\twx.showToast({\n\t\t\t\t\ttitle: '网络繁忙,稍后重试',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tres.data.data.map(reg => reg.audio = JSON.parse(util.secret(reg.media, reg.media_iv)));\n\t\t\t\tthat.setData({\n\t\t\t\t\talbums: res.data.data,\n\t\t\t\t\tauthMsg: res.data.auth\n\t\t\t\t});\n\t\t\t\tvar custom_cfg_reg = res.data.custom_cfg;\n\t\t\t\tthat.setData({\n\t\t\t\t\thasIntro: res.data.mini_intro.isshow, //false,\n\t\t\t\t\thasInfoUrl: res.data.mini_intro.url\n\t\t\t\t});\n\t\t\t\tgetApp().globalData.g_test_type = id;\n\t\t\t\tvar custom_cfg = {\n\t\t\t\t\ttitle: custom_cfg_reg.cus_title,\n\t\t\t\t\tcontent: custom_cfg_reg.cus_content,\n\t\t\t\t\timg: custom_cfg_reg.img,\n\t\t\t\t\tpath: custom_cfg_reg.path\n\t\t\t\t};\n\t\t\t\tthat.setData({\n\t\t\t\t\tcustom_cfg: custom_cfg\n\t\t\t\t});\n\t\t\t\tgetApp().globalData.g_custom_msg = custom_cfg;\n\t\t\t\tgetApp().globalData.g_auth_msg = res.data.auth;\n\t\t\t\tgetApp().globalData.g_audio_auth = res.data.auth.status == 0 ? false : true;\n\t\t\t\tgetApp().globalData.g_try_time = res.data.auth.try_time;\n\t\t\t\tgetApp().globalData.g_audio_plen = res.data.data.length;\n\t\t\t\tgetApp().globalData.g_share_img = res.data.mini_share.url;\n\t\t\t\tgetApp().globalData.g_req_data = res.data.data;\n\t\t\t\tconsole.log(res);\n\t\t\t}\n\t\t}); //判断是播放视频or 音频\n\n\t\tif (!getApp().globalData.g_audio_obj) {\n\t\t\tgetApp().globalData.g_audio_obj = wx.getBackgroundAudioManager();\n\n\t\t\tconsole.log('****create getBackgroundAudioManager', getApp().globalData.g_audio_obj);\n\t\t} //初始化数据\n\n\n\t\tconsole.log('onLoad1');\n\t},\n\n\t/**\n\t * 生命周期函数--监听页面初次渲染完成\n\t */\n\tonReady: function() {\n\t\tthis.customModal = this.$refs.customModal;\n\t\tthis.setData({\n\t\t\tisFisrtShow:true\n\t\t});\n\t},\n\n\t/**\n\t * 生命周期函数--监听页面显示\n\t */\n\tasync onShow() {\n\t\tconsole.log('ablum-detail--onshow'); //TODO 判断是否有购买后开通权限操作\n\t\tvar that = this;\n\t\tconst res = await this.reqData(this.reqUrl);\n\t\tthis.setData({\n\t\t\talbums: res.data,\n\t\t\tauthMsg: res.auth\n\t\t});\n\t\tthis.setDuratoin(res.data);\n\t\tgetApp().globalData.g_auth_msg = res.auth;\n\t\tgetApp().globalData.g_audio_auth = res.auth.status == 0 ? false : true;\n\t\tgetApp().globalData.g_try_time = res.auth.try_time;\n\t\tgetApp().globalData.g_audio_plen = res.data.length;\n\t\tgetApp().globalData.g_share_img = res.mini_share.url;\n\t\tgetApp().globalData.g_req_data = res.data;\n\n\t\t//    util.getRequest(this.$data.reqUrl, {}, function (res) {\n\t\t//      console.log('onshow req', res);\n\t\t//      if (res.data.e != '9999') {\n\t\t//        wx.showToast({\n\t\t//          title: '网络繁忙,稍后重试',\n\t\t//          icon: 'none'\n\t\t//        });\n\t\t//      } else {\n\t\t//        res.data.data.map(reg => reg.audio = JSON.parse(util.secret(reg.media, reg.media_iv)));\n\t\t//        that.setData({\n\t\t//          albums: res.data.data,\n\t\t//          authMsg: res.data.auth\n\t\t//        });\n\t\t// \tsetTimeout(()=>{\n\t\t// \t\tthat.setDuratoin(that.ablums);\n\t\t// \t},3000);\n\t\t//        getApp().globalData.g_auth_msg = res.data.auth;\n\t\t//        getApp().globalData.g_audio_auth = res.data.auth.status == 0 ? false : true;\n\t\t//        getApp().globalData.g_try_time = res.data.auth.try_time;\n\t\t//        getApp().globalData.g_audio_plen = res.data.data.length;\n\t\t//        getApp().globalData.g_share_img = res.data.mini_share.url;\n\t\t//        getApp().globalData.g_req_data = res.data.data;\n\t\t//        console.log(res);\n\t\t//      }\n\t\t//    }); //从其它页面操作音频控制同步本页\n\n\t\tlet isPlaying = false;\n\t\tlet tryListen = false;\n\t\tgetApp().globalData.g_has_index_toggle = true;\n\n\t\tif (getApp().globalData.g_audio_playing) {\n\t\t\tisPlaying = true;\n\t\t}\n\n\t\tif (!getApp().globalData.g_audio_auth && getApp().globalData.g_audio_tryListen) {\n\t\t\ttryListen = true;\n\t\t}\n\t\tif (getApp().globalData.g_audio_pause) {\n\t\t\tthis.setData({\n\t\t\t\ttimeStep: getApp().globalData.g_audio_timeStep\n\t\t\t});\n\t\t}\n\t\tlet currentIdx;\n\t\tif (this.$data.share_idx != 0) {\n\t\t\tcurrentIdx = this.$data.share_idx;\n\t\t} else {\n\t\t\tcurrentIdx = getApp().globalData.g_audio_ablum_id == getApp().globalData.g_audio_ablum_temid ? getApp().globalData\n\t\t\t\t.g_audio_pid : this.share_idx;\n\t\t}\n\n\t\tconsole.log('currentIdx', currentIdx);\n\n\t\tthis.setData({\n\t\t\tisPlaying: isPlaying,\n\t\t\ttryListen: tryListen,\n\t\t\tplayerHidden: getApp().globalData.g_audio_player,\n\t\t\tplayerCloseHidden: !getApp().globalData.g_audio_pause,\n\t\t\tswiperIndex: currentIdx,\n\t\t\tcurrentIdx: currentIdx,\n\t\t\tupSwiperIndex: parseInt(currentIdx) + 1,\n\t\t\taudioTitle: getApp().globalData.g_audio_title\n\t\t}); //监听\n\t\t//为了使currentIdx生效\n\t\tif (!this.isFisrtShow) {\n\t\t\tthis.setData({\n\t\t\t\tcurrentIdx: currentIdx + 1\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tthat.setData({\n\t\t\t\t\tcurrentIdx: currentIdx,\n\t\t\t\t});\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setData({\n\t\t\t\tcurrentIdx: currentIdx\n\t\t\t});\n\t\t}\n\n\t\tthis.audioManagerLister(); // app.globalData.g_req_data = this.data.reqData;\n\t\tthis.isCurrentEvnet();\n\t\tthis.upTryTime(currentIdx);\n\t\twx.hideLoading();\n\t},\n\n\t/**\n\t * 生命周期函数--监听页面隐藏\n\t */\n\tonHide: function() {\n\t\tthis.setData({\n\t\t\tisFisrtShow :false\n\t\t});\n\t},\n\n\t/**\n\t * 生命周期函数--监听页面卸载\n\t */\n\tonUnload: function() {\n\t\tgetApp().globalData.g_audio_player = true;\n\t\tthis.setData({\n\t\t\tplayerHidden: true\n\t\t});\n\t},\n\n\t/**\n\t * 用户点击右上角分享\n\t */\n\tonShareAppMessage: function() {\n\t\treturn {\n\t\t\ttitle: this.$data.title,\n\t\t\timageUrl: getApp().globalData.g_share_img,\n\t\t\tpath: '/pages/ablum/ablum-detail?id=' + this.bookid + '&url=' + encodeURIComponent(this.$data.reqUrl) +\n\t\t\t\t'&share_idx=' + getApp().globalData.g_audio_pid\n\t\t};\n\t},\n\tmethods: {\n\t\t/**\n\t\t * 获取音频数据\n\t\t * @param {Object} url\n\t\t */\n\t\treqData(url) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tutil.getRequest(url, {}, function(res) {\n\t\t\t\t\tconsole.log('onshow req', res);\n\t\t\t\t\tif (res.data.e != '9999') {\n\t\t\t\t\t\treject({\n\t\t\t\t\t\t\t...res.data.e,\n\t\t\t\t\t\t\tmessage: '请求获取数据异常'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres.data.data.map(reg => reg.audio = JSON.parse(util.secret(reg.media, reg.media_iv)));\n\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t//是否为当前播放的id\n\t\tisCurrentEvnet() {\n\t\t\t//console.log('isCureentEvnet', app.globalData.g_audio_ablum_id, app.globalData.g_audio_ablum_temid);\n\t\t\tif (getApp().globalData.g_audio_playing && getApp().globalData.g_audio_ablum_id == getApp().globalData.g_audio_ablum_temid) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tisPlaying: true,\n\t\t\t\t\tplayerHidden: false\n\t\t\t\t});\n\t\t\t} else if (getApp().globalData.g_audio_playing && getApp().globalData.g_audio_ablum_id != getApp().globalData.g_audio_ablum_temid) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tisPlaying: false,\n\t\t\t\t\tplayerHidden: true\n\t\t\t\t}); //noting\n\t\t\t} else if (getApp().globalData.g_audio_playing != null && getApp().globalData.g_audio_ablum_id != getApp().globalData\n\t\t\t\t.g_audio_ablum_temid) {\n\t\t\t\tgetApp().globalData.g_audio_playing = false;\n\t\t\t\tgetApp().globalData.g_audio_player = true;\n\t\t\t\tthis.setData({\n\t\t\t\t\tisPlaying: false,\n\t\t\t\t\tplayerHidden: true\n\t\t\t\t});\n\t\t\t} else {}\n\t\t},\n\n\t\t//更新每个音频的测试时间\n\t\tupTryTime: function(currentIdx) {\n\t\t\tlet that = this;\n\t\t\tsetTimeout(function() {\n\t\t\t\tconsole.log('uptrytime', currentIdx, getApp().globalData.g_req_data, getApp().globalData.g_req_data[currentIdx]\n\t\t\t\t\t.try_time);;\n\t\t\t\tgetApp().globalData.g_try_time = getApp().globalData.g_req_data[currentIdx].try_time;\n\t\t\t}, 1000);\n\t\t},\n\t\thandleChange: function(e) {\n\t\t\tconsole.log('upSwiperIndex', e, e.detail.current, e.detail.current == null);\n\t\t\t//let currentIdx = e.detail.current == null ? 1 : e.detail.current''\n\t\t\tthis.setData({\n\t\t\t\tupSwiperIndex: parseInt(e.detail.current + 1),\n\t\t\t\tswiperIndex: e.detail.current,\n\t\t\t\t// currentIdx:e.detail.current\n\t\t\t});\n\t\t},\n\t\t//跳转webview\n\t\tgoIntro: function(evnet) {\n\t\t\tconsole.log('hasInfoUrl', this.$data.hasInfoUrl);\n\t\t\twx.navigateTo({\n\t\t\t\turl: '/pages/webview/award?url=' + encodeURIComponent(this.$data.hasInfoUrl)\n\t\t\t});\n\t\t},\n\t\t//初始播放\n\t\taudioPlay: function(event) {\n\t\t\tlet pid = event.currentTarget.dataset.pid; //已播放过且不是当前\n\n\t\t\tconsole.log('audio play 1--', getApp().globalData.g_audio_ablum_id, getApp().globalData.g_audio_ablum_temid);\n\n\t\t\tif (getApp().globalData.g_audio_ablum_id == getApp().globalData.g_audio_ablum_temid && getApp().globalData.g_audio_playing !=\n\t\t\t\tnull && pid == getApp().globalData.g_audio_pid && !getApp().globalData.g_audio_ended) {\n\t\t\t\tconsole.log(getApp().globalData.g_audio_pid, getApp().globalData.g_audio_ended);\n\n\t\t\t\tif (getApp().globalData.g_audio_playing) {\n\t\t\t\t\tgetApp().globalData.g_audio_obj.pause();\n\t\t\t\t}\n\n\t\t\t\tif (getApp().globalData.g_audio_pause == true) {\n\t\t\t\t\tconsole.log('click play');\n\t\t\t\t\tgetApp().globalData.g_audio_obj.play();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconsole.log('init play pid--', pid);\n\t\t\tgetApp().globalData.g_audio_obj.stop();\n\t\t\tgetApp().globalData.g_audio_pid = pid;\n\t\t\tgetApp().globalData.g_audio_idx = 0;\n\t\t\tgetApp().globalData.g_audio_obj.src = this.$data.albums[pid]['audio'][0]['url'];\n\t\t\tgetApp().globalData.g_audio_obj.title = this.$data.albums[pid]['audio'][0]['title'];\n\t\t\tgetApp().globalData.g_audio_obj.play();\n\t\t\tthis.setData({\n\t\t\t\ttryListen: false,\n\t\t\t\tplayerCloseHidden: true\n\t\t\t});\n\t\t\tgetApp().globalData.g_audio_ended = false;\n\t\t\tthis.upTryTime(pid); //更新试听时间\n\t\t},\n\t\t//控制面板播放\n\t\taudioPlayer: function(event) {\n\t\t\tlet pid = event.currentTarget.dataset.pid;\n\t\t\tconsole.log('audioPlay pid-----', pid);\n\n\t\t\tif (getApp().globalData.g_audio_playing) {\n\t\t\t\tconsole.log('click pause');\n\t\t\t\tgetApp().globalData.g_audio_obj.pause();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (getApp().globalData.g_audio_pause == true) {\n\t\t\t\tconsole.log('click play');\n\t\t\t\tgetApp().globalData.g_audio_obj.play();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgetApp().globalData.g_audio_obj.stop();\n\t\t\tgetApp().globalData.g_audio_pid = pid;\n\t\t\tgetApp().globalData.g_audio_obj.src = this.$data.albums[pid]['audio'][0]['url'];\n\t\t\tgetApp().globalData.g_audio_obj.title = this.$data.albums[pid]['audio'][0]['title'];\n\t\t\tgetApp().globalData.g_audio_obj.play();\n\t\t\tthis.setData({\n\t\t\t\ttryListen: false,\n\t\t\t\tplayerCloseHidden: true\n\t\t\t});\n\t\t\tgetApp().globalData.g_audio_ended = false;\n\t\t},\n\t\t//跳转详情\n\t\tgoContent: function(event) {\n\t\t\tlet pid = event.currentTarget.dataset.pid;\n\t\t\tconsole.log('pid-', pid);\n\t\t\twx.navigateTo({\n\t\t\t\turl: '/pages/ablum/ablum-content?pid=' + pid\n\t\t\t});\n\t\t},\n\t\t//上一个音频\n\t\tpreAudio: function() {\n\t\t\tvar that = this;\n\t\t\tlet sub_len = this.$data.albums[getApp().globalData.g_audio_pid].audio.length;\n\t\t\tconsole.log('子集长度--', sub_len);\n\t\t\tgetApp().globalData.g_audio_obj.stop(); //子集长度判断\n\n\t\t\tif (getApp().globalData.g_audio_idx - 1 < 0) {\n\t\t\t\t//子集重置为0 & 父级判断\n\t\t\t\tgetApp().globalData.g_audio_idx = 0;\n\n\t\t\t\tif (parseInt(getApp().globalData.g_audio_pid - 1) < 0) {\n\t\t\t\t\tgetApp().globalData.g_audio_pid = parseInt(getApp().globalData.g_audio_plen - 1);\n\t\t\t\t} else {\n\t\t\t\t\tgetApp().globalData.g_audio_pid = parseInt(getApp().globalData.g_audio_pid - 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tgetApp().globalData.g_audio_idx = parseInt(getApp().globalData.g_audio_idx - 1);\n\t\t\t}\n\n\t\t\tif (!getApp().globalData.g_audio_auth && getApp().globalData.g_audio_idx != 0) {\n\t\t\t\twx.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '购买后,可听全部课程',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthat.goCustom();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgetApp().globalData.g_audio_obj.src = this.$data.albums[getApp().globalData.g_audio_pid]['audio'][getApp().globalData\n\t\t\t\t.g_audio_idx\n\t\t\t]['url'];\n\t\t\tgetApp().globalData.g_audio_obj.title = this.$data.albums[getApp().globalData.g_audio_pid]['audio'][getApp().globalData\n\t\t\t\t.g_audio_idx\n\t\t\t]['title'];\n\t\t\tgetApp().globalData.g_audio_obj.play();\n\t\t\tthis.setData({\n\t\t\t\tupSwiperIndex: parseInt(getApp().globalData.g_audio_pid + 1),\n\t\t\t\tswiperIndex: getApp().globalData.g_audio_pid\n\t\t\t});\n\n\t\t\tthis.upTryTime(getApp().globalData.g_audio_pid); //更新试听时间\n\t\t},\n\t\t//下一个音频\n\t\tnextAudio: function() {\n\t\t\tvar that = this;\n\t\t\tlet sub_len = this.$data.albums[getApp().globalData.g_audio_pid].audio.length;\n\t\t\tconsole.log('子集长度--', sub_len);\n\t\t\tgetApp().globalData.g_audio_obj.stop(); //子集长度判断\n\n\t\t\tif (getApp().globalData.g_audio_idx + 1 > sub_len - 1) {\n\t\t\t\t//子集重置为0 & 父级判断\n\t\t\t\tgetApp().globalData.g_audio_idx = 0;\n\n\t\t\t\tif (parseInt(getApp().globalData.g_audio_pid + 1) > getApp().globalData.g_audio_plen - 1) {\n\t\t\t\t\tgetApp().globalData.g_audio_pid = 0;\n\t\t\t\t} else {\n\t\t\t\t\tgetApp().globalData.g_audio_pid = parseInt(getApp().globalData.g_audio_pid + 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tgetApp().globalData.g_audio_idx = parseInt(getApp().globalData.g_audio_idx + 1);\n\t\t\t}\n\n\t\t\tconsole.log('app.globalData.g_audio_idx', getApp().globalData.g_audio_idx);\n\n\t\t\tif (!getApp().globalData.g_audio_auth && getApp().globalData.g_audio_idx != 0) {\n\t\t\t\twx.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '购买后,可听全部课程',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthat.goCustom();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgetApp().globalData.g_audio_obj.src = this.$data.albums[getApp().globalData.g_audio_pid]['audio'][getApp().globalData\n\t\t\t\t.g_audio_idx\n\t\t\t]['url'];\n\t\t\tgetApp().globalData.g_audio_obj.title = this.$data.albums[getApp().globalData.g_audio_pid]['audio'][getApp().globalData\n\t\t\t\t.g_audio_idx\n\t\t\t]['title'];\n\t\t\tgetApp().globalData.g_audio_obj.play();\n\t\t\tthis.setData({\n\t\t\t\tupSwiperIndex: parseInt(getApp().globalData.g_audio_pid + 1),\n\t\t\t\tswiperIndex: getApp().globalData.g_audio_pid\n\t\t\t});\n\t\t\tthis.upTryTime(getApp().globalData.g_audio_pid); //更新试听时间\n\t\t},\n\t\t//关闭播放控制\n\t\tclosePlayer: function() {\n\t\t\tgetApp().globalData.g_audio_player = true;\n\t\t\tthis.setData({\n\t\t\t\tplayerCloseHidden: true,\n\t\t\t\tplayerHidden: true\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * 获取用户授权\n\t\t */\n\t\taliGetAuthCode: function(scopeCode = 'auth_user') {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tmy.getAuthCode({\n\t\t\t\t\tscopes: scopeCode,\n\t\t\t\t\tsuccess: (auth) => {\n\t\t\t\t\t\tresolve(auth);\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\treject({ ...err,\n\t\t\t\t\t\t\tmessage: '获取用户授权失败'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * 获取用户信息\n\t\t * @param {Object} authCode\n\t\t */\n\t\tgetUserByAuthCode: function(authCode) {\n\t\t\tlet url = '';\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tutil.getRequest(url, {\n\t\t\t\t\tauthCode: authCode\n\t\t\t\t}, (res) => {\n\t\t\t\t\tif (res.data.e = '9999') {\n\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject({ ...res.data,\n\t\t\t\t\t\t\tmessage: '获取用户信息失败'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * 创建支付交易订单\n\t\t * @param {Object} authCode\n\t\t * @param {Object} uid\n\t\t */\n\t\tgetTradeNo: function(authCode, uid) {\n\t\t\tlet url = '';\n\t\t\tlet reqData = {\n\t\t\t\ttotal_amount: '0.01',\n\t\t\t\tout_trade_no: `${new Date().getTime()}_demo_pay`,\n\t\t\t\tscene: 'bar_code',\n\t\t\t\tauth_code: authCode,\n\t\t\t\tsubject: '小程序支付演示DEMO',\n\t\t\t\tbuyer_id: uid\n\t\t\t};\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tutil.getRequest(url, reqData, (res) => {\n\t\t\t\t\tif (res.data.e = '9999') {\n\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject({ ...res.data,\n\t\t\t\t\t\t\tmessage: '获取用户信息失败'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * 发起支付\n\t\t * @param {Object} tradeNo\n\t\t */\n\t\tcashPaymentTrade: function(tradeNo) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tmy.tradePay({\n\t\t\t\t\ttradeNO: tradeNo,\n\t\t\t\t\tsuccess: (result) => {\n\t\t\t\t\t\tif (result.resultCode != 9000) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tstatus: false,\n\t\t\t\t\t\t\t\tmessage: result.memo,\n\t\t\t\t\t\t\t\t...result\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tstatus: true,\n\t\t\t\t\t\t\t\tmessage: '支付成功',\n\t\t\t\t\t\t\t\t...result\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\treject({\n\t\t\t\t\t\t\tstatus: false,\n\t\t\t\t\t\t\tmessage: '支付异常',\n\t\t\t\t\t\t\t...err\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshowToast: function(message, type = 'none') {\n\t\t\tmy.showToast({\n\t\t\t\ttype,\n\t\t\t\tcontent: message,\n\t\t\t\tduration: 3000\n\t\t\t});\n\t\t},\n\t\tasync goCustom() {\n\t\t\tconsole.log('gocustom--');\n\t\t\tvar that = this;\n\t\t\tvar system = wx.getSystemInfoSync().system;\n\t\t\tconsole.log('g_app', getApp().globalData.g_app);\n\t\t\tif (getApp().globalData.g_app == 'alipay') {\n\t\t\t\tutil.aliPay(this.authMsg.order_url);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (system.indexOf('iOS') === -1) {\n\t\t\t\tutil.payAction(this.$data.authMsg.order_url); // let url = this.$data.data.authMsg.order_url || '';\n\t\t\t\t// wx.navigateTo({\n\t\t\t\t//   url: '../order/order?url=' + url,\n\t\t\t\t// })\n\t\t\t} else {\n\t\t\t\tthis.customModal.show();\n\t\t\t}\n\t\t},\n\t\t//保存收听记录\n\t\tsaveListenRecord: function() {\n\t\t\tvar _reg = {\n\t\t\t\tpid: getApp().globalData.g_audio_pid,\n\t\t\t\tidx: getApp().globalData.g_audio_idx,\n\t\t\t\ttime: getApp().globalData.g_audio_seeker,\n\t\t\t\tbook_id: getApp().globalData.g_audio_bookid,\n\t\t\t\tcover: getApp().globalData.g_audio_cover_square,\n\t\t\t\ttmp_id: getApp().globalData.g_audio_ablum_temid\n\t\t\t};\n\t\t\tutil.saveListenRecord(_reg);\n\t\t},\n\t\t/**\n\t\t * 设置时长\n\t\t * @param {Object} data\n\t\t */\n\t\tsetDuratoin: function(data) {\n\t\t\tconsole.log('***setDuration', data,\n\t\t\t\tgetApp().globalData.g_audio_pid,\n\t\t\t\tgetApp().globalData.g_audio_idx\n\t\t\t);\n\t\t\tlet _duration = data[getApp().globalData.g_audio_pid]['audio'][getApp().globalData.g_audio_idx]['duration'];\n\t\t\tlet max = _duration / 1000;\n\t\t\tlet duratoin = util.formLoadMTime(_duration);\n\t\t\tgetApp().globalData.g_audio_duration = duratoin;\n\t\t\tgetApp().globalData.g_audio_max = max;\n\t\t\tthis.setData({\n\t\t\t\ttimeTotal: '/' + duratoin,\n\t\t\t\tmax: max\n\t\t\t});\n\t\t},\n\t\t//监听操作\n\t\taudioManagerLister: function() {\n\t\t\t// getApp().globalData.g_audio_obj = my.getBackgroundAudioManager();\n\t\t\tconsole.log('****ablum-detail-managerlister', getApp().globalData.g_audio_obj, getApp().globalData.g_audio_duration);\n\t\t\tvar that = this;\n\n\t\t\tif (getApp().globalData.g_audio_duration != null) {\n\t\t\t\tthat.setData({\n\t\t\t\t\ttimeTotal: '/' + getApp().globalData.g_audio_duration\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.log('****g_audio_duration-if-1')\n\t\t\t\tconsole.log('****g_audio_duration-if', getApp().globalData.g_audio_duration);\n\t\t\t}\n\n\t\t\tgetApp().globalData.g_audio_obj.onError((res) => {\n\t\t\t\tconsole.log('backgroundAudioManager 背景音频播放错误事件 onError ')\n\t\t\t\tmy.alert({\n\t\t\t\t\tcontent: 'backgroundAudioManager 背景音频播放错误事件 onError' + JSON.stringify(res)\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tgetApp().globalData.g_audio_obj.onCanplay(function() {\n\t\t\t\tlet _duration = getApp().globalData.g_req_data[getApp().globalData.g_audio_pid]['audio'][getApp().globalData.g_audio_idx]\n\t\t\t\t\t['duration'];\n\t\t\t\tlet max = _duration / 1000;\n\t\t\t\tlet duratoin = util.formLoadMTime(_duration);\n\t\t\t\tgetApp().globalData.g_audio_duration = duratoin;\n\t\t\t\tgetApp().globalData.g_audio_max = max;\n\t\t\t\tconsole.log('****onCanplay2', getApp().globalData.g_audio_duration);\n\t\t\t\tconsole.log('onCanplay');\n\t\t\t\tthat.setData({\n\t\t\t\t\ttimeTotal: '/' + duratoin\n\t\t\t\t});\n\t\t\t}); //监听音频加载中事件。当音频因为数据不足，需要停下来加载时会触发\n\n\t\t\tgetApp().globalData.g_audio_obj.onWaiting(function() {\n\t\t\t\tconsole.log('onWaiting');\n\t\t\t}); //监听背景音频播放错误事件\n\n\t\t\tgetApp().globalData.g_audio_obj.onError(function() {\n\t\t\t\tconsole.log('onError');\n\t\t\t}); //监听背景音频播放事件\n\n\t\t\tgetApp().globalData.g_audio_obj.onPlay(function() {\n\t\t\t\tconsole.log('onPlay1');\n\t\t\t\tgetApp().globalData.g_audio_cover_square = that.$data.albums[getApp().globalData.g_audio_pid]['cover_square'];\n\t\t\t\tgetApp().globalData.g_audio_playing = true;\n\t\t\t\tgetApp().globalData.g_audio_pause = false;\n\t\t\t\tgetApp().globalData.g_audio_title = that.$data.albums[getApp().globalData.g_audio_pid]['audio'][getApp().globalData\n\t\t\t\t\t.g_audio_idx\n\t\t\t\t]['title'];\n\t\t\t\tgetApp().globalData.g_audio_tryListen = false;\n\t\t\t\tgetApp().globalData.g_audio_player = false;\n\t\t\t\tgetApp().globalData.g_audio_ablum_id = getApp().globalData.g_audio_ablum_temid;\n\t\t\t\tgetApp().globalData.g_audio_obj.coverImgUrl = that.$data.albums[getApp().globalData.g_audio_pid]['cover'];\n\t\t\t\tthat.setData({\n\t\t\t\t\tplayerHidden: false,\n\t\t\t\t\tplayerCloseHidden: true,\n\t\t\t\t\tisPlaying: true,\n\t\t\t\t\tcurrentIdx: getApp().globalData.g_audio_pid,\n\t\t\t\t\taudioTitle: that.$data.albums[getApp().globalData.g_audio_pid]['audio'][getApp().globalData.g_audio_idx][\n\t\t\t\t\t\t'title'\n\t\t\t\t\t]\n\t\t\t\t}); //保存收听记录\n\n\t\t\t\tthat.saveListenRecord();\n\t\t\t}); //监听背景音频暂停事件\n\n\t\t\tgetApp().globalData.g_audio_obj.onPause(function() {\n\t\t\t\tgetApp().globalData.g_audio_cover_square = that.$data.albums[getApp().globalData.g_audio_pid]['cover_square'];\n\t\t\t\tgetApp().globalData.g_audio_playing = false;\n\t\t\t\tgetApp().globalData.g_audio_pause = true;\n\t\t\t\tthat.setData({\n\t\t\t\t\tisPlaying: false,\n\t\t\t\t\tisPause: true,\n\t\t\t\t\tplayerCloseHidden: false\n\t\t\t\t}); //保存收听记录\n\n\t\t\t\tthat.saveListenRecord();\n\t\t\t\tconsole.log('onPause');\n\t\t\t});\n\t\t\tgetApp().globalData.g_audio_obj.onEnded(function() {\n\t\t\t\tgetApp().globalData.g_audio_timeStep = '00:00';\n\t\t\t\tgetApp().globalData.g_audio_ended = true;\n\t\t\t\tthat.setData({\n\t\t\t\t\tisPlaying: false,\n\t\t\t\t\ttimeStep: '00:00'\n\t\t\t\t});\n\t\t\t\tconsole.log('onEnded');\n\t\t\t});\n\t\t\tgetApp().globalData.g_audio_obj.onStop(function() {\n\t\t\t\tgetApp().globalData.g_audio_playing = null;\n\t\t\t\tgetApp().globalData.g_audio_timeStep = '00:00';\n\t\t\t\tthat.setData({\n\t\t\t\t\tisPlaying: false\n\t\t\t\t});\n\t\t\t\tconsole.log('onStop');\n\t\t\t}); //监听背景音频播放进度更新事件\n\n\t\t\tgetApp().globalData.g_audio_obj.onTimeUpdate(function() {\n\t\t\t\tif (getApp().globalData.g_audio_ablum_id != getApp().globalData.g_audio_ablum_temid) return;\n\t\t\t\tlet seeker = getApp().globalData.g_audio_obj.currentTime;\n\t\t\t\tlet num = util.formLoadTime(seeker);\n\t\t\t\tgetApp().globalData.g_audio_player = false;\n\t\t\t\tthat.setData({\n\t\t\t\t\ttimeStep: num,\n\t\t\t\t\tplayerHidden: false\n\t\t\t\t}); //todo 开通权限后需要重新请求数据 设为非试听\n\t\t\t\t//console.log('ablum-datail-',getApp().globalData.g_audio_auth,getApp().globalData.g_audio_obj.currentTime >= getApp().globalData.g_try_time);\n\t\t\t\tif (!getApp().globalData.g_audio_auth && getApp().globalData.g_audio_obj.currentTime >= getApp().globalData.g_try_time) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\ttryListen: true,\n\t\t\t\t\t\tplayerCloseHidden: false\n\t\t\t\t\t});\n\t\t\t\t\tgetApp().globalData.g_audio_tryListen = true;\n\t\t\t\t\tgetApp().globalData.g_audio_obj.stop();\n\t\t\t\t}\n\n\t\t\t\tgetApp().globalData.g_audio_timeStep = num;\n\t\t\t\tgetApp().globalData.g_audio_seeker = seeker;\n\t\t\t});\n\t\t\tthis.setData({\n\t\t\t\tisListening: true\n\t\t\t});\n\t\t},\n\t\tnavigatorFail: function(e) {\n\t\t\tconsole.log('navigator', e);\n\t\t},\n\t\tinvitShareEventFun: function() {}\n\t}\n};\n","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ablum-detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ablum-detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589773913673\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}